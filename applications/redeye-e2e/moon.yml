dependsOn:
  - 'server'
  - 'client'
tasks:
  open-cy:
    command: 'concurrently "yarn moon run @redeye/client:start-dev @redeye/server:start-dev" "yarn moon run @redeye/e2e:start-cypress"'
    local: true
    options:
      runFromWorkspaceRoot: true
  open-cy-blue:
    command: 'concurrently "SERVER_BLUE_TEAM=true yarn moon run @redeye/client:start-dev @redeye/server:start-dev" "yarn moon run @redeye/e2e:start-cypress"'
    local: true
    options:
      runFromWorkspaceRoot: true
    env:
      SERVER_BLUE_TEAM: 'true'
  cy-ci-chrome-redteam:
    local: true
    command: 'concurrently "yarn moon run @redeye/e2e:run-cypress -- --headed --browser=chrome --spec **/**/e2e/redteam/**/**/**" "yarn moon run @redeye/client:start-dev @redeye/server:start-dev"'
    options:
      runFromWorkspaceRoot: true
  cy-ci-firefox-redteam:
    local: true
    command: 'concurrently "yarn moon run @redeye/e2e:run-cypress -- --browser=firefox --headed --spec **/**/e2e/redteam/**/**/**" "yarn moon run @redeye/client:start-dev @redeye/server:start-dev"'
    options:
      runFromWorkspaceRoot: true
  cy-ci-safari-redteam:
    local: true
    command: 'concurrently "yarn moon run @redeye/e2e:run-cypress -- --browser=webkit --headed --spec **/**/e2e/redteam/**/**/**" "yarn moon run @redeye/client:start-dev @redeye/server:start-dev"'
    options:
      runFromWorkspaceRoot: true
  cy-ci-chrome-blueteam:
    local: true
    command: 'concurrently "yarn moon run @redeye/e2e:run-cypress -- --headed --browser=chrome --spec **/**/e2e/blueteam/**/**/**" "SERVER_BLUE_TEAM=true yarn moon run @redeye/client:start-dev @redeye/server:start-dev"'
    options:
      runFromWorkspaceRoot: true
